<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Freely with No Boundaries · Map</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    #map {
      height: 600px;
      width: 100%;
      border: 2px solid gray;
      margin: 20px 0;
    }

    body {
      background-color: #cadecb;
    }

    .navbar-brand {
      background-color: #90E0EF;
      padding: 5px 12px;
      border-radius: 5px;
      margin-right: 10px;
      color: black !important;
      text-decoration: none;
    }

    .navbar-brand:hover {
      color: white !important;
    }
  </style>
</head>

<body>

  <header class="site-header">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Home</a>
        <a class="navbar-brand" href="map2.html">Map</a>
      </div>
    </nav>
  </header>

  <main class="container text-center">
    <section>
      <h1>Live Freely With No Boundaries</h1>
      <p>Zoom, click, explore any public / no permit required place.</p>
      <div id="map"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Sydney's site for GEOG 464.</p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
  // ------------------------------------------------------------
  // Initialize map
  // ------------------------------------------------------------
  var map = L.map('map', {
    minZoom: 3,
    maxZoom: 18,
    maxBounds: [
      [85, -170],
      [40, -40]
    ],
    maxBoundsViscosity: 0.7
  }).setView([69.4267, -88.5938], 3);

  var street = L.tileLayer(
    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    { attribution: '© OpenStreetMap contributors' }
  ).addTo(map);

  // ------------------------------------------------------------
  // Create overlay container + layer control
  // ------------------------------------------------------------
  var overlayLayers = {};
  var layerControl = L.control.layers(null, overlayLayers).addTo(map);

  // ------------------------------------------------------------
  // Hover + tooltip handler
  // ------------------------------------------------------------
  function attachEvents(feature, layer) {
    let tooltipContent = "";
    for (const key in feature.properties) {
      tooltipContent += `<strong>${key}</strong>: ${feature.properties[key]}<br>`;
    }
    layer.bindTooltip(tooltipContent, { sticky: true });

    const originalStyle = {
      color: layer.options.color || "#3388ff",
      weight: layer.options.weight || 2,
      fillOpacity: layer.options.fillOpacity || 0.3
    };

    layer.on({
      mouseover: function (e) {
        e.target.setStyle({
          color: 'yellow',
          weight: 3,
          fillOpacity: 0.6
        });
        e.target.bringToFront();
      },
      mouseout: function (e) {
        e.target.setStyle(originalStyle);
      }
    });
  }

  // ------------------------------------------------------------
  // Helper function for loading folders of GeoJSON
  // ------------------------------------------------------------
  function loadGeoGroup(name, urls, colors) {
    const group = L.layerGroup();

    urls.forEach((url, i) => {
      fetch(url)
        .then(r => r.json())
        .then(data => {
          group.addLayer(
            L.geoJSON(data, {
              style: { color: colors[i], weight: 2, fillOpacity: 0.3 },
              onEachFeature: attachEvents
            })
          );
        });
    });

    overlayLayers[name] = group;
    layerControl.addOverlay(group, name);
    return group;
  }

  // ------------------------------------------------------------
  // LOAD PROVINCES
  // ------------------------------------------------------------

  loadGeoGroup("British Columbia", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeBANFF_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/mount_revelstoke_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/yoho_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/kootenay_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gwaii_haanas_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gulf_islands_national_park_reserve_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/glacier_national_park_of_canada.geojson"
  ], ["green", "green", "green", "green", "green", "green", "green"]);

  loadGeoGroup("Nunavut", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/MAdministrative8_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/sirmilik_natpark_nu.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/qausuittuq_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ukkusiksalik_national_park_of_canada.geojson"
  ], ["green", "green", "green", "green"]);

  loadGeoGroup("Northwest Territories", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative33_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wood_buffalo_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/waterton_lakes_national_park_of_canada.geojson"
  ], ["green", "green", "green"]);

  loadGeoGroup("Manitoba", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Manitoba_Parks_Filtered_final.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative14_FeaturesToJSO.geojson"
  ], ["lightgreen", "green"]);

  loadGeoGroup("Quebec", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Biodiversity_reserve.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Nature_reserve.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Territory_reserve.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Marine_reserve.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_Aquatic.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_ecologic.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_Biodiversity.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_National.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Migratory_Bird.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Park.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Wildlife.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Wildlife_Refuge.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Threatened_or.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/deliminated.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Voluntarily_Conserved.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeMINGAN_FeaturesToJSO.geojson"
  ], ["orange","orange","orange","orange","pink","pink","pink","pink","blue","green","red","red","red","red","red","green"]);

  loadGeoGroup("Saskatchewan", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Historic_Site_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Protected_Area_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Provincial_Park_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Recreation_Site_SK.geojson"
  ], ["red", "red", "lightgreen", "red"]);

  loadGeoGroup("Prince Edward Island", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/pei_prov_parks_finaL_last.geojson"
  ], ["lightgreen"]);

  loadGeoGroup("Ontario", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wilderness_areas_final_last.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part1.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part2.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part3.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/protected_areas_far_north_final.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeF5_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeROUGE_FeaturesToJSO.geojson"
  ], ["red","lightgreen","lightgreen","lightgreen","red","green","green"]);

  loadGeoGroup("Nova Scotia", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ns_provincial_parks_final.geojson"
  ], ["lightgreen"]);

  loadGeoGroup("New Brunswick", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/nb_prov_parks_final.geojson"
  ], ["lightgreen"]);

  // ------------------------------------------------------------
  // National Parks
  // ------------------------------------------------------------
  loadGeoGroup("National Parks", [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/most_fed_park.geojson"
  ], ["brown"]);

  // ------------------------------------------------------------
  // Map click popup
  // ------------------------------------------------------------
  map.on('click', function (e) {
    L.popup()
      .setLatLng(e.latlng)
      .setContent(`You clicked at: ${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`)
      .openOn(map);
  });
</script>


</body>

</html>
