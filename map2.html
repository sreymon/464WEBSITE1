<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Freely with No Boundaries · Map</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    #map {
      height: 600px;
      width: 100%;
      border: 2px solid gray;
      margin: 20px 0;
    }

    body {
      background-color: #cadecb;
    }

    .navbar-brand {
      background-color: #90E0EF;
      padding: 5px 12px;
      border-radius: 5px;
      margin-right: 10px;
      color: black !important;
      text-decoration: none;
    }

    .navbar-brand:hover {
      color: white !important;
    }
  </style>
</head>

<body>

  <header class="site-header">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Home</a>
        <a class="navbar-brand" href="map2.html">Map</a>
      </div>
    </nav>
  </header>

  <main class="container text-center">
    <section>
      <h1>Live Freely With No Boundaries</h1>
      <p>Zoom, click, explore any public / no permit required place.</p>
      <div id="map"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Sydney's site for GEOG 464.</p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // ------------------------------------------------------------
    // Initialize map
    // ------------------------------------------------------------
    var map = L.map('map', {
    minZoom: 3,   // prevents zooming too far out
    maxZoom: 18,  // optional
    maxBounds: [
        [85, -170],   // north-west corner (top-left of Canada region)
        [40, -40]     // south-east corner (bottom-right of Canada region)
    ],
    maxBoundsViscosity: 0.7  // adds smooth snap-back effect
    }).setView([69.4267, -88.5938], 3);  // adjusted zoom to match minZoom


    var street = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // ------------------------------------------------------------
    // Hover + tooltip handler
    // ------------------------------------------------------------
function attachEvents(feature, layer) {
  // Build tooltip
  let tooltipContent = "";
  for (const key in feature.properties) {
    tooltipContent += `<strong>${key}</strong>: ${feature.properties[key]}<br>`;
  }
  layer.bindTooltip(tooltipContent, { sticky: true });

  // Save original style
  const originalStyle = {
    color: layer.options.color || "#3388ff",
    weight: layer.options.weight || 2,
    fillOpacity: layer.options.fillOpacity || 0.3
  };

  // Hover events
  layer.on({
    mouseover: function (e) {
      e.target.setStyle({
        color: 'yellow',
        weight: 3,
        fillOpacity: 0.6
      });

      // Bring to front for clarity (optional)
      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        e.target.bringToFront();
      }
    },
    mouseout: function (e) {
      e.target.setStyle(originalStyle);  // restore original polygon style
    }
  });
}


    // ------------------------------------------------------------
    // BC
    // ------------------------------------------------------------
    var bcFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeBANFF_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/mount_revelstoke_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/yoho_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/kootenay_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gwaii_haanas_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gulf_islands_national_park_reserve_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/glacier_national_park_of_canada.geojson"
    ];
    
    var bcColors = ["green", "green", "green", "green", "green", "green", "green"];  
    
    var bcLayer = L.layerGroup();
    
    bcFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: bcColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          bcLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading British Columbia GeoJSON:", url, err));
    });
    
    overlayLayers["British Columbia"] = bcLayer;
    if (window.layerControl) window.layerControl.addOverlay(bcLayer, "British Columbia");
    
    // ------------------------------------------------------------
    // Nunavut
    // ------------------------------------------------------------
    var nuFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/MAdministrative8_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/sirmilik_natpark_nu.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/qausuittuq_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ukkusiksalik_national_park_of_canada.geojson"
    ];
    
    var nuColors = ["green", "green", "green", "green"];  
    
    var nuLayer = L.layerGroup();
    
    nuFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nuColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nuLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Nunavut GeoJSON:", url, err));
    });
    
    overlayLayers["Nunavut"] = nuLayer;
    if (window.layerControl) window.layerControl.addOverlay(nuLayer, "Nunavut");

    // ------------------------------------------------------------
    // NWT
    // ------------------------------------------------------------
    var nwtFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative33_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wood_buffalo_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/waterton_lakes_national_park_of_canada.geojson"
    ];
    
    var nwtColors = ["green", "green", "green"];  
    
    var nwtLayer = L.layerGroup();
    
    nwtFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nwtColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nwtLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Northwest Territories GeoJSON:", url, err));
    });
    
    overlayLayers["Northwest Territories"] = nwtLayer;
    if (window.layerControl) window.layerControl.addOverlay(nwtLayer, "Morthwest Territories");
    
    // ------------------------------------------------------------
    // Manitoba
    // ------------------------------------------------------------
    var mbFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Manitoba_Parks_Filtered_final.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative14_FeaturesToJSO.geojson"
    ];
    
    var mbColors = ["light green", "green"];  
    
    var mbLayer = L.layerGroup();
    
    mbFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: mbColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          mbLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Manitoba GeoJSON:", url, err));
    });
    
    overlayLayers["Manitoba"] = mbLayer;
    if (window.layerControl) window.layerControl.addOverlay(mbLayer, "Manitoba");

    // ------------------------------------------------------------
    // Quebec (two files → one layer)
    // ------------------------------------------------------------
    var quebecFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Biodiversity_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Nature_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Territory_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Marine_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_Aquatic.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_ecologic.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_Biodiversity.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_National.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Migratory_Bird.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Park.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Wildlife.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Wildlife_Refuge.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Threatened_or.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/deliminated.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Voluntarily_Conserved.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeMINGAN_FeaturesToJSO.geojson"
    ];

// Assign a color for each file (in the same order)
    var quebecColors = ["orange", "orange", "orange", "orange", "pink", "pink", "pink", "pink", "blue", "green", "red", "red", "red", "red", "red", "green"];  
    
    var quebecLayer = L.layerGroup();
    
    quebecFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: quebecColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          quebecLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Quebec GeoJSON:", url, err));
    });
    
    overlayLayers["Quebec"] = quebecLayer;
    if (window.layerControl) window.layerControl.addOverlay(quebecLayer, "Quebec");
    // ------------------------------------------------------------
    // Saskatchewan
    // ------------------------------------------------------------
    var skFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Historic_Site_SK.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Protected_Area_SK.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Provincial_Park_SK.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Recreation_Site_SK.geojson"
    ];
    
    var skColors = ["red", "red", "light green", "red"];  
    
    var skLayer = L.layerGroup();
    
    skFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: skColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          skLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Saskatchewan GeoJSON:", url, err));
    });
    
    overlayLayers["Saskatchewan"] = skLayer;
    if (window.layerControl) window.layerControl.addOverlay(skLayer, "Saskatchewan");
    
    // ------------------------------------------------------------
    // Prince Edward Island
    // ------------------------------------------------------------
    var peiFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/pei_prov_parks_finaL_last.geojson"
    ];
    
    var peiColors = ["light green"];  
    
    var peiLayer = L.layerGroup();
    
    peiFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: peiColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          peiLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Prince Edward Island GeoJSON:", url, err));
    });
    
    overlayLayers["Prince Edward Island"] = peiLayer;
    if (window.layerControl) window.layerControl.addOverlay(peiLayer, "Prince Edward Island");

    // ------------------------------------------------------------
    // Ontario (multiple files → one layer)
    // ------------------------------------------------------------
    var ontarioFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wilderness_areas_final_last.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part1.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part2.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part3.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/protected_areas_far_north_final.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeF5_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeROUGE_FeaturesToJSO.geojson"
    ];
    
    var ontarioColors = ["red", "light green", "light green", "light green", "red", "green", "green"];  
    
    var ontarioLayer = L.layerGroup();
    
    ontarioFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: ontarioColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          ontarioLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Ontario GeoJSON:", url, err));
    });
    
    overlayLayers["Ontario"] = skLayer;
    if (window.layerControl) window.layerControl.addOverlay(ontarioLayer, "Ontario");

    // ------------------------------------------------------------
    // Nova Scotia
    // ------------------------------------------------------------
    var nsFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ns_provincial_parks_final.geojson"
    ];
    
    var nsColors = ["light green"];  
    
    var nsLayer = L.layerGroup();
    
    nsFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nsColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nsLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Nova Scotia GeoJSON:", url, err));
    });
    
    overlayLayers["Nova Scotia"] = nsLayer;
    if (window.layerControl) window.layerControl.addOverlay(nsLayer, "Nova Scotia");

    // ------------------------------------------------------------
    // New Brunswick
    // ------------------------------------------------------------
    var nbFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/nb_prov_parks_final.geojson"
    ];
    
    var nbColors = ["light green"];  
    
    var nbLayer = L.layerGroup();
    
    nbFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nbColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nbLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading New Brunswick GeoJSON:", url, err));
    });
    
    overlayLayers["New Brunswick"] = nbLayer;
    if (window.layerControl) window.layerControl.addOverlay(nbLayer, "New Brunswick");
    
    // ------------------------------------------------------------
    // National Parks
    // ------------------------------------------------------------
    var natparksLayer = L.layerGroup();

    fetch("https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/most_fed_park.geojson")
      .then(res => res.json())
      .then(data => {
        natparksLayer.addLayer(L.geoJSON(data, {
          style: { color: "brown", weight: 2, fillOpacity: 0.3 },
          onEachFeature: attachEvents
        }));
      });

    overlayLayers["National Parks"] = natparksLayer;
    if (window.layerControl) window.layerControl.addOverlay(natparksLayer, "National Parks");

    // ------------------------------------------------------------
    // Click popup
    // ------------------------------------------------------------
    map.on('click', function (e) {
      L.popup()
        .setLatLng(e.latlng)
        .setContent(`You clicked at: ${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`)
        .openOn(map);
    });
  </script>

</body>

</html>
